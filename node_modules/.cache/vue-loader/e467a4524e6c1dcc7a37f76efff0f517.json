{"remainingRequest":"/Users/karen.chen/Desktop/user-module/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/karen.chen/Desktop/user-module/src/views/UsersGroup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/karen.chen/Desktop/user-module/src/views/UsersGroup.vue","mtime":1557469527905},{"path":"/Users/karen.chen/Desktop/user-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karen.chen/Desktop/user-module/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/karen.chen/Desktop/user-module/node_modules/vuetify-loader/lib/loader.js","mtime":1549812933000},{"path":"/Users/karen.chen/Desktop/user-module/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karen.chen/Desktop/user-module/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport UsersTable from \"../components/UsersTable\";\nimport textFieldRules from \"../utils/textFieldRules.js\";\nimport { mapMutations } from \"vuex\";\n\nexport default {\n    mixins: [textFieldRules],\n    name: \"userGroupDetail\",\n    components: {\n        UsersTable\n    },\n    data() {\n        return {\n            groupData: [],\n            rawData: [],\n            headers: [\n                {\n                    text: \"#\",\n                    align: \"left\",\n                    sortable: false,\n                    width: \"80px\",\n                    value: \"id\"\n                },\n                {\n                    text: \"Product Name\",\n                    align: \"left\",\n                    sortable: true,\n                    value: \"name\"\n                },\n                {\n                    text: \"Status\",\n                    align: \"left\",\n                    sortable: true,\n                    value: \"status\"\n                },\n                {\n                    text: \"Action\",\n                    align: \"left\",\n                    value: \"user_type\",\n                    width: \"100px\",\n                    sortable: true\n                }\n            ],\n            key: \"\",\n            dialogShow: false,\n            authItem: null\n        };\n    },\n    methods: {\n        getUserGroup: function() {\n            this.rawData = this.groupData.childData;\n            this.rawData.forEach((o, i) => {\n                o.status = o.deleted_at == null ? true : false;\n            });\n            this.$store.dispatch(\"global/startLoading\");\n            this.$store\n                .dispatch(\"users/getUsersByGroup\", this.groupData.id)\n                .then(\n                    function(result) {\n                        this.rawData = result.data;\n                        this.$store.dispatch(\"global/finishLoading\");\n                    }.bind(this)\n                )\n                .catch(\n                    function(error) {\n                        this.$store.dispatch(\"global/finishLoading\");\n                        this.$store.dispatch(\n                            \"global/showSnackbarError\",\n                            error.message\n                        );\n                    }.bind(this)\n                );\n        },\n        updateGroupStatus: function() {\n            this.$store.dispatch(\"global/startLoading\");\n            this.$store\n                .dispatch(\"userGroup/updateGroupStatus\", this.groupData)\n                .then(\n                    function(result) {\n                        this.$store.dispatch(\n                            \"global/showSnackbarSuccess\",\n                            \"Change group status success!\"\n                        );\n                        this.groupData.status = !this.groupData.status;\n                        this.getUserGroup();\n                    }.bind(this)\n                )\n                .catch(\n                    function(error) {\n                        this.$store.dispatch(\n                            \"global/showSnackbarError\",\n                            error.message\n                        );\n                    }.bind(this)\n                );\n        },\n        backToGroup() {\n            this.$router.push(\"/admin/userGroup\");\n            this.getUserGroup();\n        }\n    },\n    mounted() {\n        this.$router.push(\"/admin/userGroupDetail\");\n        this.getUserGroup();\n    },\n    created() {\n        this.groupData = this.$route.query.data;\n        this.getUserGroup();\n    }\n};\n",{"version":3,"sources":["UsersGroup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UsersGroup.vue","sourceRoot":"src/views","sourcesContent":["<template lang=\"pug\">\n    v-container#users\n        v-layout(wrap column)\n            v-flex(xs12)\n                v-layout.mb-4(row align-center)\n                    a.text--grey(@click=\"backToGroup\")\n                        span \n                            v-icon keyboard_arrow_left\n                    span.title Edit Users Group\n                    v-spacer\n                    v-btn(color=\"red lighten-2\" dark @click=\"updateGroupStatus()\" v-if=\"groupData.status == true\") Inactive Group\n                    v-btn(color=\"primary\" dark @click=\"updateGroupStatus()\" v-else) Active Group\n\n            v-flex(xs12)\n                UsersTable.mb-3(:raw-data=\"rawData\" :user-group-id=\"groupData.id\" :status=\"groupData.status\" :refresh-data=\"getUserGroup\")\n            \n</template>\n\n\n<script>\nimport UsersTable from \"../components/UsersTable\";\nimport textFieldRules from \"../utils/textFieldRules.js\";\nimport { mapMutations } from \"vuex\";\n\nexport default {\n    mixins: [textFieldRules],\n    name: \"userGroupDetail\",\n    components: {\n        UsersTable\n    },\n    data() {\n        return {\n            groupData: [],\n            rawData: [],\n            headers: [\n                {\n                    text: \"#\",\n                    align: \"left\",\n                    sortable: false,\n                    width: \"80px\",\n                    value: \"id\"\n                },\n                {\n                    text: \"Product Name\",\n                    align: \"left\",\n                    sortable: true,\n                    value: \"name\"\n                },\n                {\n                    text: \"Status\",\n                    align: \"left\",\n                    sortable: true,\n                    value: \"status\"\n                },\n                {\n                    text: \"Action\",\n                    align: \"left\",\n                    value: \"user_type\",\n                    width: \"100px\",\n                    sortable: true\n                }\n            ],\n            key: \"\",\n            dialogShow: false,\n            authItem: null\n        };\n    },\n    methods: {\n        getUserGroup: function() {\n            this.rawData = this.groupData.childData;\n            this.rawData.forEach((o, i) => {\n                o.status = o.deleted_at == null ? true : false;\n            });\n            this.$store.dispatch(\"global/startLoading\");\n            this.$store\n                .dispatch(\"users/getUsersByGroup\", this.groupData.id)\n                .then(\n                    function(result) {\n                        this.rawData = result.data;\n                        this.$store.dispatch(\"global/finishLoading\");\n                    }.bind(this)\n                )\n                .catch(\n                    function(error) {\n                        this.$store.dispatch(\"global/finishLoading\");\n                        this.$store.dispatch(\n                            \"global/showSnackbarError\",\n                            error.message\n                        );\n                    }.bind(this)\n                );\n        },\n        updateGroupStatus: function() {\n            this.$store.dispatch(\"global/startLoading\");\n            this.$store\n                .dispatch(\"userGroup/updateGroupStatus\", this.groupData)\n                .then(\n                    function(result) {\n                        this.$store.dispatch(\n                            \"global/showSnackbarSuccess\",\n                            \"Change group status success!\"\n                        );\n                        this.groupData.status = !this.groupData.status;\n                        this.getUserGroup();\n                    }.bind(this)\n                )\n                .catch(\n                    function(error) {\n                        this.$store.dispatch(\n                            \"global/showSnackbarError\",\n                            error.message\n                        );\n                    }.bind(this)\n                );\n        },\n        backToGroup() {\n            this.$router.push(\"/admin/userGroup\");\n            this.getUserGroup();\n        }\n    },\n    mounted() {\n        this.$router.push(\"/admin/userGroupDetail\");\n        this.getUserGroup();\n    },\n    created() {\n        this.groupData = this.$route.query.data;\n        this.getUserGroup();\n    }\n};\n</script>\n\n<style lang=\"sass\" scoped>\n</style>"]}]}